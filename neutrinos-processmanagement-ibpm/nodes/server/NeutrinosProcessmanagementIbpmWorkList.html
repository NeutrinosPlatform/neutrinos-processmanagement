<script type='text/x-red' data-template-name='NeutrinosProcessmanagementIbpmWorkList'></script>
<script type='text/javascript'>
	registerNode({
		nodeType: 'NeutrinosProcessmanagementIbpmWorkList',
		serviceType: 'server',
		nodeDef: {
			color: '#455A64',
			category: 'IBPM',
			defaults: {
				name: {
					value: 'Work List',
				},
				IBPMConfig: {
					type: 'NeutrinosProcessmanagementIbpmConfig', value: '', required: true,
					attrDef: { label: 'IBPM Config' }
				},
				'Content-type': {
					value: 'application/json',
					attrDef: {
						attrType: 'SELECT', label: 'Content-type', options: {
							optionsData: [{value: 'application/json', displayValue: 'JSON', description: "Select this if the server sends json data"},
							{value: 'application/xml', displayValue: 'xml', description: "Select this if the server sends json data"}]	
						}
					}
				},
				URL: {
					value: '',
					attrDef: {
						attrType: 'TYPED_INPUT', label: 'URL', options: {
							types: [
								"str",
								{ value: 'bh.input', label: 'bh.input.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.input') },
								{ value: 'bh.local', label: 'bh.local.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.local') }
							]
						}
					} 
                },
                resource: {
					value: '',
					attrDef: {
						attrType: 'TYPED_INPUT', label: 'resource', options: {
							types: [
								"str",
								{ value: 'bh.input', label: 'bh.input.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.input') },
								{ value: 'bh.local', label: 'bh.local.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.local') }
							]
						}
					}
				},
				SavedSearch: {
					value: '',
					attrDef: {
						attrType: 'TYPED_INPUT', label: 'SavedSearch', options: {
							types: [
								"str",
								{ value: 'bh.input', label: 'bh.input.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.input') },
								{ value: 'bh.local', label: 'bh.local.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.local') }
							]
						}
					}
                },
                Interaction: {
					value: '',
					attrDef: {
						attrType: 'TYPED_INPUT', label: 'Interaction', options: {
							types: [
								"str",
								{ value: 'bh.input', label: 'bh.input.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.input') },
								{ value: 'bh.local', label: 'bh.local.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.local') }
							]
						}
					}
                },
                Size: {
					value: '',
					attrDef: {
						attrType: 'TYPED_INPUT', label: 'size', options: {
							types: [
								"str",
								{ value: 'bh.input', label: 'bh.input.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.input') },
								{ value: 'bh.local', label: 'bh.local.', nullable: true, nullableValue: '', validate: server.validators.typedInput('bh.local') }
							]
						}
					}
				},
				filterByCurrentUser: {
                  value: false,
                  attrDef: {attrType: 'TOGGLE_BUTTON', options: {label: 'filterByCurrentUser'}}
			  },
			  calcStats: {
                  value: false,
                  attrDef: {attrType: 'TOGGLE_BUTTON', options: {label: 'calcStats'}}
			  }			  
			},
			inputs: 1,
			outputs: 1,
			icon: 'neutrinos-processmanagement-ibpm/ibpm-work-list.svg',
			paletteLabel: function (def) {
				return 'Work List';
			},
			label: function () {
				return this.name || 'Work List';
			},
		}
	});
</script>