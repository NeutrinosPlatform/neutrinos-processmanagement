{"version":3,"file":"neutrinos-seed-services.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-system.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-sessionStorage.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-util.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-localStorage.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-token.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-pubSub.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-logout.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-HTTPLoader.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-notification.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-login.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-authGaurd.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-dataModel.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-HTTP.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/n-snackbar.service.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/snackbar/snack/snack.component.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/snackbar/snackbar/snackbar.component.ts","ng://neutrinos-seed-services/src/app/neutrinos-seed-services/neutrinos-seed-services.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// import { environment } from '../../environments/environment';\r\nimport { NUtility } from './n-util.service';\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\nimport { Injectable } from '@angular/core';\r\nimport * as platform from 'platform';\r\n\r\n// @dynamic\r\nexport class NSystemService {\r\n  private static instance: NSystemService;\r\n\r\n  private _deviceType: string;\r\n  // private _deviceUUID;\r\n  uuid;\r\n  properties;\r\n  static envProperties;\r\n  static getInstance() {\r\n    if (!this.instance) {\r\n      this.instance = new NSystemService();\r\n    }\r\n    return this.instance;\r\n  }\r\n\r\n  private constructor() {\r\n    this._deviceType = this.checkDevice();\r\n  }\r\n\r\n  /**\r\n   * Seter and getter for the environments\r\n   */\r\n\r\n  // set environments(properties) {\r\n  //   console.log(properties);\r\n  //   NSystemService.envProperties = properties;\r\n  //   this.properties = this.getVal('properties');\r\n  // }\r\n\r\n  // get environments() {\r\n  //   return NSystemService.envProperties;\r\n  // }\r\n\r\n  /**\r\n   * Returna 'mobile' or 'browser' based on the platform\r\n   */\r\n  checkDevice(): string {\r\n    if (window['device'] && (window['device']['platform'] != 'browser' || window['device']['platform'] != 'Browser')) {\r\n      return 'mobile';\r\n    } else if (window['device'] && (window['device']['platform'] == 'browser' || window['device']['platform'] == 'Browser')) {\r\n      return 'cordova_browser';\r\n    } else {\r\n      return 'browser';\r\n    }\r\n  }\r\n\r\n\r\n  public get deviceType() {\r\n    return this._deviceType;\r\n  }\r\n\r\n\r\n\r\n  public getVal(key) {\r\n    if (!NSystemService.envProperties) {\r\n      NSystemService.envProperties = window['neutrinos']['environments'];\r\n      this.properties = NSystemService.envProperties.properties;\r\n    }\r\n\r\n    if (key == 'properties') {\r\n      if (NSystemService.envProperties) {\r\n        return NSystemService.envProperties.properties;\r\n      } else {\r\n        return undefined;\r\n      }\r\n    } else {\r\n      if (NSystemService.envProperties && NSystemService.envProperties.properties) {\r\n        return NSystemService.envProperties.properties[key];\r\n      } else {\r\n        return undefined;\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  public isAndroid() {\r\n    if (window['device'] && window['device']['platform'] == 'Android') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isIOS() {\r\n    if (window['device'] && window['device']['platform'] == 'iOS') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getAndroidVersion() {\r\n    if (this.isAndroid()) {\r\n      return window['device']['version'];\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public getAuthUrl() {\r\n    // this.properties = this.getVal('properties');\r\n    return this.properties.baseUrl + this.properties.tenantName + '/auth/';\r\n  }\r\n  public getTenantUrl() {\r\n    return this.properties.baseUrl + this.properties.tenantName + '/';\r\n  }\r\n\r\n  public getAppUrl() {\r\n    return this.properties.baseUrl + this.properties.tenantName + '/proxy/' + this.properties.appName + '/';\r\n  }\r\n\r\n  public getProxyUrl() {\r\n    return this.properties.baseUrl + this.properties.tenantName + '/proxy/';\r\n  }\r\n\r\n  public getDataModelUrl() {\r\n    return this.properties.baseUrl + this.properties.tenantName + '/datamodel/' + this.properties.appDataSource + '/' + this.properties.appName + '/';\r\n  }\r\n\r\n  public getFileIOUrl() {\r\n    return this.properties.baseUrl + this.properties.tenantName + '/fileio/' +\r\n      this.properties.appDataSource + '/' + this.properties.appName + '/';\r\n  }\r\n\r\n  public getPlatformDetails(type) {\r\n    const pDetails = {\r\n      platform: platform.os.family,\r\n      platformVersion: platform.os.version,\r\n    };\r\n    if (type === 'browser') {\r\n      return Object.assign(pDetails, {\r\n        type: 'browser',\r\n        browser: platform.name,\r\n        browserVersion: platform.version,\r\n      });\r\n    } else if (type === 'mobile' || type === 'cordova_browser') {\r\n      return Object.assign(pDetails, {\r\n        type: 'mobile',\r\n        model: window['device'].model,\r\n        manufacturer: window['device'].manufacturer,\r\n        isVirtual: window['device'].isVirtual\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class NSessionStorageService {\r\n  static sessionStorageCache: any = {};\r\n  constructor() {\r\n    NSessionStorageService.sessionStorageCache = sessionStorage;\r\n  }\r\n\r\n  getSessionStorage() {\r\n    return NSessionStorageService.sessionStorageCache;\r\n  }\r\n\r\n  setValue(key, value) {\r\n    NSessionStorageService.sessionStorageCache[key] = value;\r\n    sessionStorage.setItem(key, value);\r\n  }\r\n\r\n  getValue(key) {\r\n    if (!NSessionStorageService.sessionStorageCache[key]) {\r\n      return null;\r\n    }\r\n    try {\r\n      const obj = NSessionStorageService.sessionStorageCache[key];\r\n      return JSON.parse(obj);\r\n    } catch (error) {\r\n      return NSessionStorageService.sessionStorageCache[key];\r\n    }\r\n  }\r\n\r\n  remove(key) {\r\n    if (NSessionStorageService.sessionStorageCache.hasOwnProperty(key)) {\r\n      delete NSessionStorageService.sessionStorageCache[key];\r\n      sessionStorage.removeItem(key);\r\n    }\r\n  }\r\n\r\n  clearSessionStorage() {\r\n    NSessionStorageService.sessionStorageCache = {};\r\n    sessionStorage.clear();\r\n  }\r\n\r\n}\r\n","export class NUtility {\r\n  \r\n    constructor() { }\r\n  \r\n    generateUUID() {\r\n      return this.__s4() + this.__s4() + '-' + this.__s4() + '-' + this.__s4() + '-' + this.__s4() + '-' + this.__s4() + this.__s4() + this.__s4();\r\n    }\r\n  \r\n    __s4() {\r\n      return Math.floor((1 + Math.random()) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n    }\r\n  }","import { NSystemService } from './n-system.service';\r\nimport { Injectable } from '@angular/core';\r\nimport {NgForage, NgForageCache, NgForageConfig, Driver} from 'ngforage';\r\nimport { NUtility } from './n-util.service';\r\n\r\n@Injectable()\r\nexport class NLocalStorageService {\r\n\r\n  storageCache: any = {};\r\n  private _deviceUUID;\r\n  private nativeStorageI;\r\n  constructor(private ngfConfig?: NgForageConfig, private readonly ngf?: NgForage, private readonly ngfCache?: NgForageCache) {\r\n  }\r\n\r\n\r\n\r\n  initStorage() {\r\n    return new Promise((resolve, reject) => {\r\n      if (window['cordova']) {\r\n        this.initNgForage();\r\n      }\r\n      this.ngf.iterate((value, key, iteratonNumber) => {\r\n        this.storageCache[key] = value;\r\n      }).then(result => {\r\n        this.checkDeviceId();\r\n        return resolve('iteration is completed')\r\n      }).catch(error => {\r\n        return reject(error);\r\n      });\r\n    });\r\n  }\r\n\r\n  getStorage() {\r\n    return this.storageCache;\r\n  }\r\n\r\n\r\n  setValue(key, value) {\r\n    if (window['cordova']) {\r\n      this.initNgForage();\r\n    }\r\n    this.storageCache[key] = value;\r\n    return this.ngf.setItem(key, value).then(result => {\r\n      return result;\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  getValue(key): any | Promise<any> {\r\n    if (!this.storageCache[key]) {\r\n      return null;\r\n    } try {\r\n      const obj = this.storageCache[key]\r\n      return JSON.parse(obj);\r\n    } catch (error) {\r\n      return this.storageCache[key];\r\n    }\r\n  }\r\n\r\n  remove(key) {\r\n    delete this.storageCache[key];\r\n    if (window['cordova']) {\r\n      this.initNgForage();\r\n    }\r\n    this.ngf.removeItem(key).then(fulfilled => {\r\n      delete this.ngf[key];\r\n    }).catch(error => {\r\n      console.error('Could not remove', key);\r\n    });\r\n  }\r\n\r\n  clear() {\r\n    this.storageCache = {};\r\n    this.ngf.clear();\r\n  }\r\n\r\n  private pluginCheck() {\r\n    if (window['cordova'] && window['NativeStorage']) {\r\n      this.nativeStorageI = window['NativeStorage'];\r\n      // return true;\r\n    }\r\n    // this.initStorage();\r\n  }\r\n\r\n  private getItemNs(key) {\r\n    return new Promise((resolve, reject) => {\r\n      if (window['cordova'] && window['NativeStorage']) {\r\n        this.nativeStorageI.getItem(key, result => {\r\n          resolve(result);\r\n        }, error => {\r\n          reject(error);\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  private setItemNs(key, value) {\r\n    return new Promise((resolve, reject) => {\r\n      if (window['cordova'] && window['NativeStorage']) {\r\n        this.nativeStorageI.setItem(key, value, result => {\r\n          resolve(result);\r\n        }, error => {\r\n          reject(error);\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  private removeItemNs(key) {\r\n    return new Promise((resolve, reject) => {\r\n      if (window['cordova'] && window['NativeStorage']) {\r\n        this.nativeStorageI.remove(key, (result) => {\r\n          resolve(result);\r\n        }, (error) => {\r\n          reject(error);\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  private clearNs() {\r\n    return new Promise((resolve, reject) => {\r\n      if (window['cordova'] && window['NativeStorage']) {\r\n        this.nativeStorageI.clear(result => {\r\n          resolve(result);\r\n        }, error => {\r\n          reject(error);\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  private initNgForage() {\r\n    this.ngfConfig.configure({\r\n      name: 'MyApp',\r\n      driver: [\r\n        Driver.WEB_SQL,\r\n      ]\r\n    });\r\n\r\n  }\r\n\r\n  private promiseReflect(promise) {\r\n    return promise.then(resolved => { return { v: resolved, status: 'resolved' } }, error => { return { e: error, status: 'rejected' } })\r\n  }\r\n\r\n  clearLocalStorage() {\r\n    this.remove('userObj');\r\n    this.remove('accessToken');\r\n    this.remove('refreshToken');\r\n    this.remove('registrationId');\r\n  }\r\n\r\n  /**\r\n   * Due to timing issues and circular dependency checkDeviceId is moved from NSystemService\r\n  */\r\n\r\n  checkDeviceId() {\r\n    if (NSystemService.getInstance().checkDevice() === 'browser') {\r\n      this._deviceUUID = this.getValue('uuid');\r\n\r\n      if (!this._deviceUUID) {\r\n        this._deviceUUID = new NUtility().generateUUID();\r\n        this.setValue('uuid', this._deviceUUID);\r\n      }\r\n    } else {\r\n      window['plugins'].uniqueDeviceID.get((uuid) => {\r\n        this._deviceUUID = uuid;\r\n        this.setValue('uuid', this._deviceUUID);\r\n      });\r\n    }\r\n    return this._deviceUUID;\r\n  }\r\n\r\n  public get deviceUUID() {\r\n    return this._deviceUUID;\r\n  }\r\n}\r\n","import { NSessionStorageService } from './n-sessionStorage.service';\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class NTokenService {\r\n\r\n  nSessionStorage;\r\n  // nLocalStorageService: NLocalStorageService;\r\n\r\n  constructor(private nLocalStorageService: NLocalStorageService) {\r\n    this.nSessionStorage = new NSessionStorageService();\r\n    // this.nLocalStorageService = new NLocalStorageService();\r\n  }\r\n\r\n  updateTokens(tokensObj, isRemember?: Boolean) {\r\n    let userObj = this.decodeToken(tokensObj['accessToken'])\r\n    this.nSessionStorage.setValue('accessToken', tokensObj['accessToken']);\r\n    this.nSessionStorage.setValue('refreshToken', tokensObj['refreshToken']);\r\n    this.nSessionStorage.setValue('userObj', JSON.stringify(userObj));\r\n\r\n    if ((isRemember || this.nLocalStorageService.getValue('accessToken'))) {\r\n      this.nLocalStorageService.setValue('accessToken', tokensObj['accessToken']);\r\n      this.nLocalStorageService.setValue('refreshToken', tokensObj['refreshToken']);\r\n      this.nLocalStorageService.setValue('userObj', JSON.stringify(userObj));\r\n    }\r\n  }\r\n\r\n  updateSessionStorage() {\r\n    this.updateTokens(this.nLocalStorageService.getStorage(), true);\r\n  }\r\n\r\n  public urlBase64Decode(str: string): string {\r\n    let output = str.replace(/-/g, '+').replace(/_/g, '/');\r\n    switch (output.length % 4) {\r\n      case 0: { break; }\r\n      case 2: { output += '=='; break; }\r\n      case 3: { output += '='; break; }\r\n      default: {\r\n        throw 'Illegal base64url string!';\r\n      }\r\n    }\r\n    return this.b64DecodeUnicode(output);\r\n  }\r\n\r\n  // credits for decoder goes to https://github.com/atk\r\n  private b64decode(str: string): string {\r\n    let chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n    let output: string = '';\r\n\r\n    str = String(str).replace(/=+$/, '');\r\n\r\n    if (str.length % 4 == 1) {\r\n      throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");\r\n    }\r\n\r\n    for (\r\n      // initialize result and counters\r\n      let bc: number = 0, bs: any, buffer: any, idx: number = 0;\r\n      // get next character\r\n      buffer = str.charAt(idx++);\r\n      // character found in table? initialize bit storage and add its ascii value;\r\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\r\n        // and if not first of each 4 characters,\r\n        // convert the first 8 bits to one ascii character\r\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\r\n    ) {\r\n      // try to find character in table (0-63, not found => -1)\r\n      buffer = chars.indexOf(buffer);\r\n    }\r\n    return output;\r\n  }\r\n\r\n  // https://developer.mozilla.org/en/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#The_Unicode_Problem\r\n  private b64DecodeUnicode(str: any) {\r\n    return decodeURIComponent(Array.prototype.map.call(this.b64decode(str), (c: any) => {\r\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n  }\r\n\r\n  public decodeToken(token: string): any {\r\n    let parts = token.split('.');\r\n\r\n    if (parts.length !== 3) {\r\n      throw new Error('JWT must have 3 parts');\r\n    }\r\n\r\n    let decoded = this.urlBase64Decode(parts[1]);\r\n    if (!decoded) {\r\n      throw new Error('Cannot decode the token');\r\n    }\r\n\r\n    return JSON.parse(decoded);\r\n  }\r\n\r\n  public getTokenExpirationDate(token: string): Date {\r\n    let decoded: any;\r\n    decoded = this.decodeToken(token);\r\n\r\n    if (!decoded.hasOwnProperty('exp')) {\r\n      return null;\r\n    }\r\n\r\n    let date = new Date(0); // The 0 here is the key, which sets the date to the epoch\r\n    date.setUTCSeconds(decoded.exp);\r\n\r\n    return date;\r\n  }\r\n\r\n  public isTokenExpired(token: string, offsetSeconds?: number): boolean {\r\n    let date = this.getTokenExpirationDate(token);\r\n    offsetSeconds = offsetSeconds || 0;\r\n\r\n    if (date == null) {\r\n      return false;\r\n    }\r\n\r\n    // Token expired?\r\n    return !(date.valueOf() > (new Date().valueOf() + (offsetSeconds * 1000)));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable, Subscription } from 'rxjs';\r\n\r\nconst ServiceName: string = \"PubSub Service\";\r\n\r\n@Injectable()\r\nexport class NPubSubService {\r\n  private events = {};\r\n\r\n  constructor() { }\r\n\r\n  public $sub(event: string): Observable<any>;\r\n  public $sub(event: string, callback: (value: any) => void): Subscription;\r\n  public $sub(event: string, callback: (value: any) => void, error: (error: any) => void): Subscription;\r\n  public $sub(event: string, callback: (value: any) => void, error: (error: any) => void, complete: () => void): Subscription;\r\n  public $sub(event: string, callback?: (value: any) => void, error?: (error: any) => void, complete?: () => void) {\r\n      if (!event) {\r\n          throw new Error(`[${ServiceName}] => Subscription method must get event name.`);\r\n      }\r\n\r\n      if (this.events[event] === undefined) {\r\n          this.events[event] = new Subject<any>();\r\n      }\r\n\r\n      if (typeof callback !== 'function') {\r\n          return this.events[event].asObservable();\r\n      } else {\r\n          return this.events[event].asObservable().subscribe(callback, error, complete);\r\n      }\r\n  }\r\n\r\n  public $pub(event: string, eventObject?: any) {\r\n      if (!event) {\r\n          throw new Error(`[${ServiceName}] => Publish method must get event name.`);\r\n      } else if (!this.events[event]) {\r\n          return;\r\n      }\r\n      this.events[event].next(eventObject);\r\n  }\r\n}\r\n\r\nexport interface IPubSubService {\r\n  $pub(event: string, eventObject?: any);\r\n  $sub(event: string): Observable<any>;\r\n  $sub(event: string, callback: (value: any) => void): Subscription;\r\n  $sub(event: string, callback: (value: any) => void, error: (error: any) => void): Subscription;\r\n  $sub(event: string, callback: (value: any) => void, error: (error: any) => void, complete: () => void): Subscription;\r\n}\r\n\r\ninterface I$sub {\r\n  (event: string): Observable<any>;\r\n  (event: string, callback: (value: any) => void): Subscription;\r\n  (event: string, callback: (value: any) => void, error: (error: any) => void): Subscription;\r\n  (event: string, callback: (value: any) => void, error: (error: any) => void, complete: () => void): Subscription;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NSessionStorageService } from './n-sessionStorage.service';\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\n\r\n@Injectable()\r\nexport class NLogoutService {\r\n\r\n  nSessionStorage = new NSessionStorageService();\r\n  // nLocalStorageService = new NLocalStorageService();\r\n  constructor(private nLocalStorageService: NLocalStorageService) { }\r\n\r\n  logout() {\r\n    this.nSessionStorage.clearSessionStorage();\r\n    this.nLocalStorageService.clearLocalStorage();\r\n    return true;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject ,  Observable } from 'rxjs';\r\n// import { NSnackbarService } from './n-snackbar.service';\r\nimport { NLogoutService } from './n-logout.service';\r\nimport { NSystemService } from './n-system.service';\r\nimport { NPubSubService } from './n-pubSub.service';\r\n// import { NSnackbarService } from './snackbar/service/snackbar.service';\r\n\r\n@Injectable()\r\nexport class NHTTPLoaderService {\r\n  public pendingRequests = 0;\r\n  public showLoading = false;\r\n  private _isHTTPRequestInProgress = new Subject<boolean>();\r\n  _isHTTPRequestInProgress$ = this._isHTTPRequestInProgress.asObservable();\r\n\r\n  constructor(private nLogoutService: NLogoutService, private nPubSubService: NPubSubService) {\r\n\r\n  }\r\n\r\n  isHTTPRequestInProgress(bool) {\r\n    if (bool) {\r\n      this.pendingRequests++;\r\n      if (!this.showLoading) {\r\n        this._isHTTPRequestInProgress.next(bool);\r\n      }\r\n      this.showLoading = true;\r\n    } else {\r\n      this.pendingRequests--;\r\n      if (this.pendingRequests <= 0) {\r\n        if (this.showLoading) {\r\n          this._isHTTPRequestInProgress.next(bool);\r\n        }\r\n        this.showLoading = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  alertError(error) {\r\n    if (error.status < 200 || error.status > 500) {\r\n      if (error.status === 0) {\r\n        this.nPubSubService.$pub('openSnackBar', 'Connectivity issue');\r\n      } else {\r\n        this.nPubSubService.$pub('openSnackBar', 'Response failure')\r\n      }\r\n    } else if (error.status === 401) {\r\n      this.nLogoutService.logout();\r\n      if (error.error) {\r\n        this.nPubSubService.$pub('openSnackBar', error.error)\r\n      } else {\r\n        this.nPubSubService.$pub('openSnackBar', error)\r\n      }\r\n    } else if (error.error) {\r\n      if (error.error instanceof Object) {\r\n        this.nPubSubService.$pub('openSnackBar', error.error.message)\r\n      } else {\r\n        this.nPubSubService.$pub('openSnackBar', error.error)\r\n      }\r\n    } else {\r\n      this.nPubSubService.$pub('openSnackBar', 'Response failure')\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { Injectable, OnInit, OnDestroy } from '@angular/core';\r\nimport { NSystemService } from './n-system.service';\r\nimport { Observable } from 'rxjs';\r\ndeclare var PushNotification: any;\r\ndeclare var APNSPushNotification: any;\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\nimport * as firebase from 'firebase';\r\nimport { NPubSubService } from './n-pubSub.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { NSessionStorageService } from './n-sessionStorage.service';\r\n// import { Router } from '@angular/router';\r\nimport { NHTTPLoaderService } from './n-HTTPLoader.service';\r\nimport { environment } from '../../environments/environment.prod';\r\n\r\n\r\n@Injectable()\r\nexport class NNotificationService {\r\n  // private static instance: NNotificationService;\r\n  private systemService: NSystemService = NSystemService.getInstance();\r\n  private firebaseSenderId: string;\r\n  private isNotificationEnabled: boolean;\r\n  private deviceType; string;\r\n  private resDetails;\r\n  private deviceUUID: string;\r\n  private possiblePushTypes: string[] = ['APNS','FCM'];\r\n  loginSubscribe;\r\n  sessionStorage: NSessionStorageService;\r\n  appName;\r\n  constructor(private localStorageService: NLocalStorageService, private pubSubService: NPubSubService,\r\n    private http: HttpClient, private bHttpLoader: NHTTPLoaderService) {\r\n    this.firebaseSenderId = this.systemService.getVal('firebaseSenderId');\r\n    this.isNotificationEnabled = this.systemService.getVal('isNotificationEnabled');\r\n    this.appName = this.systemService.getVal('appName');\r\n    this.deviceType = this.systemService.deviceType;\r\n    this.sessionStorage = new NSessionStorageService();\r\n    this.loginSubscribe = this.pubSubService.$sub('firebaseRegister', () => {\r\n      this.enableNotification();\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n  enableNotification() {\r\n    let pushType = this.getPushType(this.systemService.getVal('pushType'));\r\n    document.addEventListener('deviceready', event => {\r\n      if (this.isNotificationEnabled) {\r\n        if (this.deviceType && this.deviceType != 'browser') {\r\n          this.deviceType = this.systemService.deviceType;\r\n          this.checkPermission(pushType).then(res => {\r\n            if (res) {\r\n              this.initializeNotifications(pushType);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n    if (this.isNotificationEnabled && pushType !== 'APNS') {\r\n      if (this.deviceType && this.deviceType == 'browser' && window['Notification']) {\r\n        this.initialiseWebPush();\r\n      }\r\n    }\r\n  }\r\n\r\n  initialiseWebPush() {\r\n    const __this = this;\r\n    const messaging = firebase.messaging();\r\n\r\n    Notification.requestPermission()\r\n      .then(function () {\r\n        return messaging.getToken();\r\n      })\r\n      .then(function (token) {\r\n        if (token) {\r\n          __this.sendRegDetails(token);\r\n        }\r\n      })\r\n      .catch(function (err) {\r\n        __this.bHttpLoader.alertError(err);\r\n      });\r\n\r\n    messaging.onMessage(function (payload) {\r\n      if (payload['notification']) {\r\n        let notificationObj = payload['notification'];\r\n        let options = {\r\n          body: notificationObj.body,\r\n          icon: notificationObj.icon\r\n        }\r\n        // creating a native browser message\r\n        let notificationUI = new Notification(notificationObj.title, options);\r\n        notificationUI.onclick = function () {\r\n          window.focus(); // window is focused when the user clicks the notification using this\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  checkPermission(pushType?) {\r\n    // Android & iOS only\r\n    // Checks whether the push notification permission has been granted.\r\n    return new Promise((resolve) => {\r\n      pushType = this.getPushType(pushType);\r\n      if ((this.deviceType === 'Android' || this.deviceType === 'iOS') && (pushType === 'FCM' )) {\r\n        PushNotification.hasPermission(function (data) {\r\n          return resolve(data.isEnabled);\r\n        });\r\n      } else if (this.deviceType === 'iOS' && pushType === 'APNS') {\r\n         APNSPushNotification.hasPermission(function (data) {\r\n          return resolve(data.isEnabled);\r\n        });\r\n      } else {\r\n        return resolve(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  initializeNotifications(pushType?) {\r\n    //pushType = pushType ? pushType : 'FCM';\r\n    pushType = this.getPushType(pushType);\r\n\r\n    let push;\r\n    // Default if for FCM\r\n    if (pushType === 'FCM') {\r\n      push = window['PushNotification'].init({\r\n        android: {\r\n          senderID: this.firebaseSenderId\r\n        },\r\n        ios: {\r\n          alert: \"true\",\r\n          badge: \"true\",\r\n          sound: \"true\",\r\n          senderID: this.firebaseSenderId\r\n        },\r\n      });\r\n    }\r\n    // New APNS plugin init\r\n    else if (pushType === 'APNS') {\r\n      push = window['APNSPushNotification'].init({\r\n        ios: {\r\n          alert: \"true\",\r\n          badge: \"true\",\r\n          sound: \"true\"\r\n        }\r\n      });\r\n    }\r\n    push.on('registration', (data) => {\r\n      // data.registrationId\r\n      this.sendRegDetails(data.registrationId);\r\n    });\r\n\r\n    // ToDo Christy get call back function from app user to change what happens once a notification arrives\r\n    push.on('notification', (data) => {\r\n      window['cordova'].plugins.notification.local.schedule({\r\n        title: data.title,\r\n        text: data.message,\r\n        sound: data.sound,\r\n        at: new Date().getTime()\r\n      });\r\n    });\r\n\r\n    push.on('error', (e) => {\r\n      // e.message\r\n      console.error(e);\r\n    });\r\n  }\r\n\r\n  sendRegDetails(registrationId) {\r\n    this.localStorageService.setValue('registrationId', registrationId);\r\n    var url = this.systemService.getTenantUrl() + 'notification/' + this.systemService.getVal('appName') + '/register';\r\n    let pushType = this.getPushType(this.systemService.getVal('pushType'));\r\n    this.http.post(url, {\r\n      'key': this.sessionStorage.getValue('userObj')['userKey'],\r\n      'uuid': this.localStorageService.getValue('uuid'), \r\n      'fbregid': registrationId,\r\n      'pushType': pushType\r\n    }).subscribe(result => {\r\n      // this.pubSubService.$pub('FBRegComp');\r\n    }, error => {\r\n      console.log(error);\r\n    })\r\n  }\r\n\r\n  getPushType (currPushType) {\r\n    let isValidPush = typeof currPushType !== 'undefined' && this.possiblePushTypes.includes(currPushType.toUpperCase());\r\n    let pushType = isValidPush ? currPushType.toUpperCase() : 'FCM';\r\n    return pushType;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.loginSubscribe.unSubscribe();\r\n  }\r\n}\r\n","\r\nimport {map} from 'rxjs/operators';\r\nimport { Injectable, EventEmitter, Output, Injector } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { NSystemService } from './n-system.service';\r\nimport { NTokenService } from './n-token.service';\r\nimport { NPubSubService } from './n-pubSub.service';\r\nimport { NSessionStorageService } from './n-sessionStorage.service';\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\nimport { NNotificationService } from './n-notification.service';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Injectable()\r\nexport class NLoginService {\r\n  loginUrl;\r\n  appProperties;\r\n  systemService;\r\n  nSessionStorage;\r\n  uuid;\r\n  details: any;\r\n\r\n  @Output() loginCompleted = new EventEmitter();\r\n  constructor(private http: HttpClient, private pubSubService: NPubSubService, private notificationService: NNotificationService,\r\n    private nLocalStorageService: NLocalStorageService, private nTokenService: NTokenService) {\r\n    this.systemService = NSystemService.getInstance();\r\n    // this.nTokenService = new NTokenService();\r\n    this.nSessionStorage = new NSessionStorageService();\r\n    // this.nLocalStorageService = new NLocalStorageService();\r\n  }\r\n\r\n\r\n  login(userName, password, isRemember?) {\r\n    this.appProperties = this.systemService.getVal('properties');\r\n    this.loginUrl = this.systemService.getAuthUrl() + this.appProperties.appName;\r\n    this.uuid = this.nLocalStorageService.getValue('uuid');\r\n    if (!this.uuid) {\r\n      this.uuid = this.nLocalStorageService.checkDeviceId();\r\n    }\r\n    this.details = {\r\n      username: userName,\r\n      password: password,\r\n    };\r\n    this.details.platformDetails = this.systemService.getPlatformDetails(this.systemService.checkDevice());\r\n    this.details.platformDetails['uuid'] = this.uuid;\r\n    return this.http.post(this.loginUrl, JSON.stringify(this.details)).pipe(map(result => {\r\n      const tokensObj = result;\r\n      if (tokensObj) {\r\n        this.nTokenService.updateTokens(tokensObj, isRemember);\r\n      }\r\n      // TODO chris array of supported pushes currently only support APNS and Firebase\r\n      if ((this.systemService.getVal('firebaseSenderId') != 'FIREBASE_SENDER_ID' && this.systemService.getVal('firebaseAuthKey') != 'FIREBASE_AUTH_KEY') \r\n           || (this.systemService.getVal('pushType') === 'APNS' && this.systemService.isIOS())) {\r\n        this.pubSubService.$pub('firebaseRegister');\r\n      }\r\n      this.pubSubService.$pub('loginComplete');\r\n      return (result);\r\n    }, error => {\r\n      return (error);\r\n    }));\r\n  }\r\n\r\n  isLoggedIn() {\r\n    return this.nLocalStorageService.initStorage().then(result => {\r\n      if (this.nSessionStorage.getValue('accessToken') && this.nSessionStorage.getValue('refreshToken') &&\r\n        this.nSessionStorage.getValue('accessToken') != 'null' && this.nSessionStorage.getValue('refreshToken') != 'null') {\r\n        return true;\r\n      }\r\n      return false;\r\n    }).catch(error => {\r\n      return false;\r\n    });\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate } from '@angular/router';\r\nimport { NLoginService } from './n-login.service';\r\n\r\n@Injectable()\r\nexport class NAuthGuardService implements CanActivate {\r\n\r\n  constructor(private nLoginService: NLoginService, private router: Router) { }\r\n\r\n  canActivate() {\r\n    return this.nLoginService.isLoggedIn().then(result => {\r\n      if (result) {\r\n        return true;\r\n      } else {\r\n        this.router.navigate(['unauthorized']);\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { NSystemService } from './n-system.service';\r\nimport { map, catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class NDataModelService {\r\n  private systemService: NSystemService;\r\n  private dmUrl: string;\r\n  private invalidDataModelName: string = 'Invalid data model name.';\r\n  private invalidDataModelId: string = 'Invalid data model id.';\r\n  private invalidDataModelObj: string = 'Invalid data model object.';\r\n  private dmDs;\r\n  constructor(private http: HttpClient) {\r\n    this.systemService = NSystemService.getInstance();\r\n  }\r\n\r\n  // GET /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}\r\n  /**\r\n   *\r\n   * @param dataModelName\r\n   * @param filter The filter query parameter allows to specify conditions on the documents to return.\r\n   * The filter qparam value is any mongodb queryâ€¦ Defaults to {}\r\n   * @param keys Projections to be applited on mongo db.\r\n   * @param sort sort to be applied on the query results. Defaults to {}\r\n   * @param pagenumber Page number for paginated queries. Defaults to 1\r\n   * @param pagesize Size of each page to be returned. Defaults to 100.\r\n   */\r\n  get(dataModelName, filter?, keys?, sort?, pagenumber?, pagesize?): Observable<any> {\r\n    if (dataModelName) {\r\n      // let modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}`;\r\n      let modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName;\r\n      if (this.checkIfValid(filter) || this.checkIfValid(keys) || this.checkIfValid(sort) ||\r\n        this.checkIfValid(pagenumber) || this.checkIfValid(pagesize)) {\r\n        let queryString = `${this.toQueryString({\r\n          'filter': filter,\r\n          'keys': keys,\r\n          'sort': sort,\r\n          'pagenumber': pagenumber,\r\n          'pagesize': pagesize\r\n        })}`;\r\n        if (queryString === '') {\r\n          queryString += '?filter={}';\r\n        } else {\r\n          queryString = '?'.concat(queryString);\r\n        }\r\n        modelNameUrl += queryString;\r\n      }\r\n      return this.http.get(modelNameUrl).pipe(map((value, index) => {\r\n        return value;\r\n      }), catchError(error => {\r\n        return throwError(error);\r\n      }));\r\n    } else {\r\n      return throwError(new Error(`Could not get ${dataModelName}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  // PUT /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}\r\n  /**\r\n   *\r\n   * @param dataModelName Data model name of the app\r\n   * @param dataModelObj Data Model object which is to be inserted\r\n   */\r\n  put(dataModelName, dataModelObj): Observable<any> {\r\n    if (dataModelName) {\r\n      if (dataModelObj) {\r\n        // const modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}`;\r\n        const modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName;\r\n        return this.http.put(modelNameUrl, dataModelObj).pipe(map((value, index) => {\r\n          return value;\r\n        }), catchError(error => {\r\n          return throwError(error);\r\n        }));\r\n      } else {\r\n        return throwError(new Error(`Could not put ${dataModelObj} in ${dataModelName}. ${this.invalidDataModelObj}`));\r\n      }\r\n    } else {\r\n      return throwError(new Error(`Could not put ${dataModelObj} in ${dataModelName}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  // DELETE /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}\r\n  /**\r\n   *\r\n   * @param dataModelName\r\n   * @param filter\r\n   */\r\n  delete(dataModelName, filter): Observable<any> {\r\n    let modelNameUrl;\r\n    if (dataModelName) {\r\n      // modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}`;\r\n      modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName;\r\n\r\n      if (this.checkIfValid(filter) && filter != '') {\r\n        modelNameUrl += `?filter=${filter}`;\r\n      } else {\r\n        modelNameUrl += '?filter={}';\r\n      }\r\n      return this.http.delete(modelNameUrl).pipe(map((value, index) => {\r\n        return value;\r\n      }), catchError(error => {\r\n        return throwError(error);\r\n      }));\r\n    } else {\r\n      return throwError(new Error(`Could not delete ${dataModelName}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  // PATCH /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}\r\n  /**\r\n   *\r\n   * @param dataModelName Data model name which is to be updated\r\n   * @param dataModelObj New data model object\r\n   */\r\n  update(dataModelName, updateObject): Observable<any> {\r\n    if (dataModelName && updateObject) {\r\n      // const modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}`;\r\n      const modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName;\r\n      return this.http.patch(modelNameUrl, updateObject).pipe(map((value, index) => {\r\n        return value;\r\n      }), catchError(error => {\r\n        return throwError(error);\r\n      }));\r\n    } else {\r\n      return throwError(new Error(`Could not update ${dataModelName}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  // GET /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}/{dataModelId}\r\n  /**\r\n   *\r\n   * @param dataModelName Data model name which is to be updated\r\n   * @param dataModelId Data model id which is to be updated\r\n   */\r\n  getById(dataModelName, dataModelId): Observable<any> {\r\n    if (dataModelName) {\r\n      if (dataModelId) {\r\n        // const modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}/${dataModelId}`;\r\n        const modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName + \"/\" + dataModelId;\r\n        return this.http.get(modelNameUrl).pipe(map((value, index) => {\r\n          return value;\r\n        }), catchError(error => {\r\n          return throwError(error);\r\n        }));\r\n      } else {\r\n       throwError(new Error(`Could not get ${dataModelName} by id ${dataModelId}. ${this.invalidDataModelId}`));\r\n      }\r\n    } else {\r\n      throwError(new Error(`Could not get ${dataModelName} by id ${dataModelId}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  // DELETE /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}/{dataModelId}\r\n  /**\r\n   *\r\n   * @param dataModelName Data model name which is to be deleted\r\n   * @param dataModelId Data model id which is to be deleted\r\n   */\r\n  deleteById(dataModelName, dataModelId) {\r\n    if (dataModelName) {\r\n      if (dataModelId) {\r\n        // const modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}/${dataModelId}`;\r\n        const modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName + \"/\" + dataModelId;\r\n        return this.http.delete(modelNameUrl).pipe(map((value, index) => {\r\n          return value;\r\n        }), catchError(error => {\r\n          return throwError(error);\r\n        }));\r\n      } else {\r\n      throwError(new Error(`Could not get ${dataModelName} by id ${dataModelId}. ${this.invalidDataModelId}`));\r\n      }\r\n    } else {\r\n      return throwError(new Error(`Could not delete ${dataModelName} by id ${dataModelId}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  //PATCH /{tenantName}/datamodel/{datasource}/{appName}/{dataModelName}/{dataModelId}\r\n  /**\r\n   *\r\n   * @param dataModelName Data model name which is to be update\r\n   * @param dataModelId Data model id which is to be updated\r\n   * @param dataModelObj Data Model object which is to be inserted\r\n   */\r\n  updateById(dataModelName, dataModelId, dataModelObj) {\r\n    if (dataModelName) {\r\n      if (dataModelId) {\r\n        // const modelNameUrl = `${this.getDataSourceURL(dataModelName)}${dataModelName}/${dataModelId}`;\r\n        const modelNameUrl = this.getDataSourceURL(dataModelName) + dataModelName + \"/\" + dataModelId;\r\n        var dmObj = Object.assign({}, dataModelObj);\r\n        delete dmObj['_id'];\r\n        return this.http.patch(modelNameUrl, dmObj).pipe(map((value, index) => {\r\n          return value;\r\n        }), catchError(error => {\r\n          return throwError(error);\r\n        }));\r\n      } else {\r\n        throwError(new Error(`Could not get ${dataModelName} by id ${dataModelId}. ${this.invalidDataModelId}`));\r\n      }\r\n    } else {\r\n      return throwError(new Error(`Could not delete ${dataModelName} by id ${dataModelId}. ${this.invalidDataModelName}`));\r\n    }\r\n  }\r\n\r\n  private toQueryString(obj) {\r\n    const parts = [];\r\n    for (const i in obj) {\r\n      if (obj.hasOwnProperty(i) && this.checkIfValid(obj[i])) {\r\n        parts.push((i) + '=' + JSON.stringify(obj[i]));\r\n      }\r\n    }\r\n    return parts.join('&');\r\n  }\r\n\r\n  private checkIfValid(value: any) {\r\n    if (value === undefined || value == null) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private getDataSourceURL(dataModelName) {\r\n    if (!this.dmDs) {\r\n      this.dmDs = window['neutrinos']['dataSource'];\r\n    }\r\n    const dsDm = this.dmDs[dataModelName];\r\n    const properties = this.systemService.properties;\r\n    if (dsDm) {\r\n      return properties.baseUrl + properties.tenantName + '/datamodel/' + dsDm + '/' + properties.appName + '/';\r\n    } else {\r\n      return this.systemService.getDataModelUrl();\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport {\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpHandler,\r\n  HttpRequest,\r\n  HttpHeaders,\r\n  HttpResponse,\r\n  HttpErrorResponse,\r\n  HttpClient\r\n} from '@angular/common/http';\r\nimport { Observable, BehaviorSubject, throwError } from 'rxjs';\r\nimport { NHTTPLoaderService } from './n-HTTPLoader.service';\r\nimport { NSystemService } from './n-system.service';\r\nimport { NSessionStorageService } from './n-sessionStorage.service';\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\nimport { NTokenService } from './n-token.service';\r\nimport { NPubSubService } from './n-pubSub.service';\r\nimport { timeout, catchError, finalize, switchMap, filter, take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class NHttpService {\r\n  timeout = 90000;\r\n  systemService;\r\n  nSessionStorage;\r\n  appProperties;\r\n  isRefreshingToken = false;\r\n  nPubSubService;\r\n  tokenSubject: BehaviorSubject<string> = new BehaviorSubject<string>(null);\r\n\r\n  constructor(private nHTTPLoader: NHTTPLoaderService, private inj: Injector,\r\n    private nLocalStorageService: NLocalStorageService, private nTokenService: NTokenService) {\r\n    this.systemService = NSystemService.getInstance();\r\n    this.nSessionStorage = new NSessionStorageService();\r\n    this.appProperties = this.systemService.getVal('properties');\r\n    this.nPubSubService = new NPubSubService();\r\n  }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    this.requestInterceptor();\r\n\r\n    // Pass on the cloned request instead of the original request.\r\n    return next.handle(this.requestOptions(req))\r\n      .pipe(timeout(this.timeout)\r\n        , catchError(error => this.onCatch(error, req, next))\r\n        , finalize(() => {\r\n          this.onFinally();\r\n        }));\r\n  }\r\n\r\n  updateToken(error: HttpErrorResponse, req: HttpRequest<any>, next: HttpHandler): any {\r\n    if (this.appProperties.appAuthenticationStrategy === 'activeDirectory' ||\r\n      this.appProperties.appAuthenticationStrategy === 'localAuth') {\r\n      if (!this.isRefreshingToken) {\r\n        this.isRefreshingToken = true;\r\n\r\n        // Reset here so that the following requests wait until the token\r\n        // comes back from the refreshToken call.\r\n        this.tokenSubject.next(null);\r\n\r\n        return this.refreshToken()\r\n          .pipe(\r\n            switchMap((tokensObj: Object) => {\r\n              if (tokensObj) {\r\n                this.nTokenService.updateTokens(tokensObj);\r\n                const newToken = tokensObj['accessToken'];\r\n                this.tokenSubject.next(newToken);\r\n                return next.handle(this.requestOptions(req));\r\n              }\r\n              return throwError(new Error('Can\\'t refresh the token'));\r\n            }),\r\n            catchError(err => this.onCatchError(err)),\r\n            finalize(() => this.isRefreshingToken = false)\r\n          );\r\n      } else {\r\n        return this.tokenSubject.pipe(\r\n          filter(token => token != null),\r\n          take(1),\r\n          switchMap(token => next.handle(this.requestOptions(req)))\r\n        );\r\n      }\r\n    } else {\r\n      return this.onCatchError(error);\r\n    }\r\n  }\r\n\r\n  refreshToken() {\r\n    const http = this.inj.get(HttpClient);\r\n    const appProperties = this.systemService.getVal('properties');\r\n    const refreshUrl = this.systemService.getAuthUrl() + appProperties.appName + '/refresh';\r\n    const body = {\r\n      'platformDetails': this.systemService.getPlatformDetails(this.systemService.checkDevice()),\r\n      'userKey': this.nSessionStorage.getValue('userObj')['userKey'],\r\n      'refreshToken': this.nSessionStorage.getValue('refreshToken')\r\n    };\r\n    body.platformDetails['uuid'] = this.nLocalStorageService.getValue('uuid');\r\n    return http.post(refreshUrl, body);\r\n  }\r\n\r\n\r\n  /**\r\n   * Request options.\r\n   * @param options\r\n   * @returns HttpRequest\r\n   */\r\n  private requestOptions(req?: HttpRequest<any>) {\r\n    let headers = req.headers;\r\n    if (req.headers == null) {\r\n      headers = new HttpHeaders();\r\n    }\r\n    req = req.clone({\r\n      url: this.getFullUrl(req.url),\r\n      headers: headers\r\n    });\r\n    const baseUrl = NSystemService.getInstance().getVal('baseUrl');\r\n    const isArt = (baseUrl !== '' && req.url.includes(baseUrl));\r\n    return isArt ? this.addDefaultHeaders(req) : req;\r\n  }\r\n\r\n\r\n  /**\r\n  * Default options.\r\n  * @param options\r\n  * @returns HttpHeadedrs\r\n  */\r\n  private addDefaultHeaders(req: any) {\r\n    /**\r\n     * TODO: Add all default Headers over here\r\n     */\r\n    if (!req.headers.has('Access-Control-Allow-Origin')) {\r\n      req.headers = req.headers.set('Access-Control-Allow-Origin', '*');\r\n    }\r\n\r\n    if (!req.headers.has('Content-Type')) {\r\n      req.headers = req.headers.set('Content-Type', 'application/json');\r\n    } else if (req.headers.has('Content-Type') && (req.headers.get('Content-Type') === 'no-content')) {\r\n      req.headers = req.headers.delete('Content-Type');\r\n    }\r\n\r\n    if (!req.headers.has('Accept')) {\r\n      req.headers = req.headers.set('Accept', 'application/json');\r\n    }\r\n\r\n    if (!req.headers.has('Authorization')) {\r\n      this.appProperties = this.systemService.getVal('properties');\r\n      if (this.appProperties && this.appProperties.appAuthenticationStrategy === 'basicAuth') {\r\n        let username, password;\r\n        if (this.appProperties.basicAuthUser && this.appProperties.basicAuthPassword) {\r\n          username = this.appProperties.basicAuthUser;\r\n          password = this.appProperties.basicAuthPassword;\r\n        } else {\r\n          username = \"bhive-art-proxyuser\";\r\n          password = \"password\";\r\n          console.warn(\"Authentication strategy: Basic Auth. basicAuthUser and basicAuthPassword are not configured in environment. Setting default values.\");\r\n        }\r\n        req.headers = req.headers.set('Authorization', 'Basic ' + btoa(username + \":\" + password));\r\n      } else if (this.appProperties && (this.appProperties.appAuthenticationStrategy === 'activeDirectory' ||\r\n        this.appProperties.appAuthenticationStrategy === 'localAuth')) {\r\n        if (this.nSessionStorage.getValue('accessToken')) {\r\n          req.headers = req.headers.set('Authorization', 'Bearer ' + this.nSessionStorage.getValue('accessToken'));\r\n        }\r\n      }\r\n    }\r\n    return req;\r\n  }\r\n\r\n  /**\r\n   * Build API url.\r\n   * @param url\r\n   * @returns string\r\n   */\r\n  private getFullUrl(url: string): string {\r\n    // return full URL to API here\r\n    return url;\r\n  }\r\n\r\n  /**\r\n   * Request interceptor.\r\n   */\r\n  private requestInterceptor(): void {\r\n    this.nHTTPLoader.isHTTPRequestInProgress(true);\r\n  }\r\n\r\n  /**\r\n   * Response interceptor.\r\n   */\r\n  private responseInterceptor(): void {\r\n    this.nHTTPLoader.isHTTPRequestInProgress(false);\r\n  }\r\n\r\n  /**\r\n    * Error handler.\r\n    * @param error\r\n    * @param caught\r\n    * @returns ErrorObservable\r\n    */\r\n  private onCatch(error: HttpErrorResponse, req: HttpRequest<any>, next: HttpHandler): Observable<any> {\r\n    if (error instanceof HttpErrorResponse) {\r\n      if ((<HttpErrorResponse>error).status === 403 && (<HttpErrorResponse>error).error.message === 'jwt expired') {\r\n        return this.updateToken(error, req, next);\r\n      } else {\r\n        return this.onSubscribeError(error);\r\n      }\r\n    } else {\r\n      return this.onSubscribeError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * onSubscribeError\r\n   * @param error\r\n   */\r\n  private onSubscribeError(err: HttpErrorResponse): Observable<any> {\r\n    this.nHTTPLoader.alertError(err);\r\n    return this.onCatchError(err);\r\n  }\r\n  /**\r\n   * onFinally\r\n   */\r\n  private onFinally(): void {\r\n    this.responseInterceptor();\r\n  }\r\n\r\n  private onCatchError(error: HttpErrorResponse): Observable<any> {\r\n    return throwError(error);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n// import { MatSnackBar } from '@angular/material';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { NSystemService } from './n-system.service';\r\nimport { NPubSubService } from './n-pubSub.service';\r\n\r\n\r\n@Injectable()\r\nexport class NSnackbarService {\r\n  snackBarListner;\r\n  private snackService = new Subject<any>();\r\n  constructor(private nPubSubService: NPubSubService) {\r\n    if (NSystemService.getInstance().getVal('useDefaultExceptionUI')) {\r\n      this.snackBarListner = this.nPubSubService.$sub('openSnackBar', (msg) => {\r\n        this.openSnackBar(msg);\r\n      })\r\n    }\r\n  }\r\n\r\n  get() {\r\n    return this.snackService.asObservable();\r\n  }\r\n\r\n\r\n\r\n  add(data: {\r\n    msg: string, timeout?: number, background?: string, color?: string, customClass?: any,\r\n    action?: { text: string, onClick?: Function, color?: string }, onAdd?: Function, onRemove?: Function\r\n  }) {\r\n    this.snackService.next({\r\n      action: 'add',\r\n      data: data\r\n    });\r\n  }\r\n\r\n  remove(id: string) {\r\n    this.snackService.next({ action: 'remove', id: id });\r\n  }\r\n\r\n  clear() {\r\n    this.snackService.next({ action: 'clear' });\r\n  }\r\n\r\n  openSnackBar(message, timeout?, ) {\r\n    this.add({\r\n      msg: message,\r\n      timeout: timeout || 5000,\r\n      action: {\r\n        text: 'Close',\r\n        onClick: (snack) => {\r\n        },\r\n      },\r\n      onAdd: (snack) => {\r\n      },\r\n      onRemove: (snack) => {\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'n-snack',\r\n  template: `\r\n     <div class=\"snack\" [ngStyle]=\"{background: background ? background : '#323232' , color: color ? color : '#fff'}\" [ngClass]=\" ['snackbar-layout', 'customClass' ]\">\r\n          <ng-content></ng-content>\r\n       </div> \r\n  `,\r\n  styleUrls: ['../snackbar/snackbar.style.css']\r\n})\r\nexport class SnackComponent {\r\n  @Input() background;\r\n  @Input() color;\r\n  @Input() customClass;\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { NSnackbarService } from '../../n-snackbar.service';\r\n\r\n@Component({\r\n  selector: 'n-snackbar',\r\n  template: `\r\n      <div class=\"snackbars\" [ngClass]=\"position || 'bottom-center'\">\r\n          <n-snack   *ngFor=\"let snackbar of snacks\" [background]=\"snackbar.background || background\"\r\n                        [customClass]=\"snackbar.customClass || customClass\"\r\n                        [color]=\"snackbar.color || color || calcTextColor(snackbar.background || background)\">\r\n              <div class=\"container\">\r\n              <div class=\"snack-text child\" >\r\n                  {{snackbar.msg}}\r\n              </div>\r\n              <div *ngIf=\"snackbar.action.text\" class=\"snack-action\" (click)=\"snackbar.action.onClick()\"\r\n                   [ngStyle]=\"{color: snackbar.action.color || accent}\">\r\n                  {{snackbar.action.text}}\r\n              </div>\r\n              </div>\r\n          </n-snack>\r\n      </div>\r\n  `,\r\n  styleUrls: ['./snackbar.style.css']\r\n})\r\nexport class SnackbarComponent {\r\n  @Input() position: 'top-left' | 'top-center' | 'top-right' | 'bottom-left' | 'bottom-center' | 'bottom-right';\r\n  @Input() max: number = 1;\r\n  @Input() background: string;\r\n  @Input() accent: string;\r\n  @Input() color: string;\r\n  @Input() customClass: any;\r\n  @Input() timeout: number;\r\n\r\n  @Output() public onAdd: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() public onRemove: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() public onClear: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  snacks: Array<{\r\n    id: string, msg: string, timeout?: number, color?: string, background?: string, customClass?: any, action?: {\r\n      text: string, onClick?: Function, color?: string\r\n    }, onAdd?: Function, onRemove?: Function, timeoutObj?: any\r\n  }> = [];\r\n\r\n  constructor(private snackbarService: NSnackbarService) {\r\n    this.snackbarService.get()\r\n      .subscribe(snack => {\r\n        if (snack.action === 'add') {\r\n          this.add(snack.data);\r\n        } else if (snack.action === 'remove') {\r\n          this.remove(snack.id);\r\n        } else if (snack.action === 'clear') {\r\n          this.clear();\r\n        }\r\n      });\r\n  }\r\n\r\n  add(snack) {\r\n    let timeout;\r\n    const id = this.uuid();\r\n\r\n    if (this.max && this.max > 0 && this.snacks.length === this.max) {\r\n      this.remove(this.snacks[0].id);\r\n    }\r\n\r\n    if (snack.timeout || this.timeout) {\r\n      timeout = setTimeout(() => {\r\n        this.remove(id);\r\n      }, snack.timeout || this.timeout)\r\n    }\r\n\r\n    const data = Object.assign({ id: id, timeoutObj: timeout }, snack);\r\n\r\n    if (snack.action) {\r\n      const that = this;\r\n      const fcn = snack.action.onClick || new Function();\r\n      snack.action.onClick = () => {\r\n        fcn(data);\r\n        that.remove(id);\r\n      };\r\n    }\r\n\r\n    if (snack.onAdd) {\r\n      snack.onAdd(data);\r\n    }\r\n\r\n    if (this.onAdd) {\r\n      this.onAdd.emit(data);\r\n    }\r\n\r\n    this.snacks.push(data);\r\n  }\r\n\r\n  remove(id) {\r\n    const snack = this.snacks.find(obj => obj.id === id);\r\n\r\n    if (snack) {\r\n      if (snack.onRemove) {\r\n        snack.onRemove(snack);\r\n      }\r\n\r\n      if (this.onRemove) {\r\n        this.onRemove.emit(snack);\r\n      }\r\n\r\n      if (snack.timeoutObj) {\r\n        clearTimeout(snack.timeoutObj);\r\n      }\r\n    }\r\n\r\n    this.snacks = this.snacks.filter(obj => obj.id !== id);\r\n  }\r\n\r\n  clear() {\r\n    // this.snacks.forEach(snack => {\r\n    //   this.remove(snack.id);\r\n    // });\r\n\r\n    this.snacks = [];\r\n\r\n    if (this.onClear) {\r\n      this.onClear.emit(true);\r\n    }\r\n  }\r\n\r\n  uuid() {\r\n    // tslint:disable:no-bitwise\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n      const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n    // tslint:enable:no-bitwise\r\n  }\r\n\r\n  calcTextColor(background) {\r\n    if (!background) {\r\n      return null;\r\n    }\r\n\r\n    function hexToRgb(hex) {\r\n      const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n      hex = hex.replace(shorthandRegex, (m, r, g, b) => {\r\n        return r + r + g + g + b + b;\r\n      });\r\n\r\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n      return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n      } : null;\r\n    }\r\n\r\n    const rgb = hexToRgb(background);\r\n    if (!rgb) {\r\n      return null;\r\n    }\r\n\r\n    const color = [rgb.r / 255, rgb.g / 255, rgb.b / 255];\r\n\r\n    for (let i = 0; i < color.length; ++i) {\r\n      if (color[i] <= 0.03928) {\r\n        color[i] = color[i] / 12.92;\r\n      } else {\r\n        color[i] = Math.pow((color[i] + 0.055) / 1.055, 2.4);\r\n      }\r\n    }\r\n\r\n    const l = 0.2126 * color[0] + 0.7152 * color[1] + 0.0722 * color[2];\r\n\r\n    if (l > 0.179) {\r\n      return '#000';\r\n    } else {\r\n      return '#fff';\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, APP_INITIALIZER } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NAuthGuardService } from './n-authGaurd.service';\r\nimport { NDataModelService } from './n-dataModel.service';\r\nimport { NHttpService } from './n-HTTP.service';\r\nimport { NHTTPLoaderService } from './n-HTTPLoader.service';\r\nimport { NLocalStorageService } from './n-localStorage.service';\r\nimport { NLoginService } from './n-login.service';\r\nimport { NLogoutService } from './n-logout.service';\r\nimport { NNotificationService } from './n-notification.service';\r\nimport { NSnackbarService } from './n-snackbar.service';\r\nimport { NSystemService } from './n-system.service';\r\nimport { NPubSubService } from './n-pubSub.service';\r\nimport { NSessionStorageService } from './n-sessionStorage.service'\r\nimport { NTokenService } from './n-token.service';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { InstanceFactory, NgForage, NgForageConfig } from 'ngforage';\r\n\r\nimport { SnackComponent } from './snackbar/snack/snack.component';\r\nimport { SnackbarComponent } from './snackbar/snackbar/snackbar.component';\r\n\r\n\r\nexport function startupServiceFactory(startupService: NLocalStorageService) {\r\n  const res = () => {\r\n    // console.log('module before initstorage call');\r\n    return startupService.initStorage();\r\n\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function NgForageFactory(ngForageConfig: NgForageConfig) {\r\n\t// @ts-ignore\r\n\treturn new NgForage({}, new InstanceFactory(ngForageConfig));\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    RouterModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: NHttpService,\r\n      multi: true\r\n    },\r\n    {\r\n      // Provider for APP_INITIALIZER\r\n      provide: APP_INITIALIZER,\r\n      useFactory: startupServiceFactory,\r\n      deps: [NLocalStorageService],\r\n      multi: true\r\n\t},\r\n\t{\r\n\t\tprovide: NgForage,\r\n\t\tuseFactory: NgForageFactory,\r\n\t\tdeps: [\r\n\t\t\tNgForageConfig\r\n\t\t]\r\n\t},\r\n    NAuthGuardService,\r\n    NDataModelService,\r\n    NHttpService,\r\n    NHTTPLoaderService,\r\n    NLocalStorageService,\r\n    NLoginService,\r\n    NLogoutService,\r\n    NNotificationService,\r\n    NSnackbarService,\r\n    NPubSubService,\r\n    NSessionStorageService,\r\n    NTokenService\r\n  ],\r\n  declarations: [\r\n    SnackComponent,\r\n    SnackbarComponent\r\n  ],\r\n  exports: [\r\n    SnackComponent,\r\n    SnackbarComponent\r\n  ]\r\n\r\n})\r\nexport class NeutrinosSeedServicesModule {\r\n\r\n}\r\n"],"names":["platform.os","platform.name","platform.version","Injectable","Driver","NgForageConfig","NgForage","NgForageCache","Subject","messaging","firebase.messaging","HttpClient","EventEmitter","map","Output","Router","catchError","throwError","BehaviorSubject","timeout","finalize","switchMap","filter","take","http","HttpHeaders","HttpErrorResponse","Injector","Input","Component","InstanceFactory","NgModule","CommonModule","HttpClientModule","RouterModule","HTTP_INTERCEPTORS","APP_INITIALIZER"],"mappings":"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"}